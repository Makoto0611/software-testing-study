# 🎯 静的解析 上級演習・実務レベル

## 🚀 実務レベル演習

### 🏢 演習1: 大規模プロジェクトの品質改善戦略

#### 📊 プロジェクト状況
```
規模: 500万行のJavaアプリケーション
課題: 技術的負債の蓄積、品質のばらつき
制約: 段階的導入、既存機能への影響最小化
```

**課題**: 静的解析導入計画を立案してください
- 導入フェーズ設計
- 品質基準の段階的引き上げ
- チーム受け入れ促進策

<details>
<summary>解答例</summary>

**3段階導入計画**:

**フェーズ1（1-2ヶ月）**:
- 基本ルールセット導入（エラーレベルのみ）
- パイロットチーム（5-10名）での試行
- ツール環境整備・操作研修

**フェーズ2（2-4ヶ月）**:
- 警告レベルルール追加
- 全チームへの展開
- 品質ダッシュボード導入

**フェーズ3（4-6ヶ月）**:
- カスタムルール導入
- 組織標準化・継続改善体制確立
</details>

### 🔧 演習2: カスタムルール作成

#### 🎯 要件
組織固有のコーディング規約をSonarQubeカスタムルールとして実装

**具体例**: 
- API レスポンスクラスは必ず"Response"サフィックス
- ビジネスロジック層では直接DB接続禁止
- 機密情報を含む変数名の制限

**演習課題**: 上記ルールのうち1つを実装してください

### 🔄 演習3: CI/CD統合の高度化

#### 📋 要件
```
品質ゲート設定:
- カバレッジ: 80%以上
- 重複コード: 3%以下  
- 複雑度: 平均10以下
- セキュリティホットスポット: 0件
```

**演習課題**: 上記品質ゲートを満たすパイプライン設定を作成

<details>
<summary>解答例</summary>
```yaml
quality_gate:
  stage: test
  script:
    - sonar-scanner -Dsonar.qualitygate.wait=true
    - |
      QUALITY_GATE=$(curl -u $SONAR_TOKEN: "$SONAR_HOST_URL/api/qualitygates/project_status?projectKey=$CI_PROJECT_NAME")
      if echo $QUALITY_GATE | grep -q "ERROR"; then
        echo "Quality gate failed"
        exit 1
      fi
  only:
    - merge_requests
    - main
```
</details>

### 📊 演習4: 効果測定・ROI分析

#### 📈 測定項目設計
静的解析導入効果を定量的に評価する仕組みを設計

**測定指標例**:
- 品質向上: 欠陥密度、重複コード率
- 効率向上: レビュー時間、修正工数
- コスト効果: ROI、予防効果

**演習課題**: 測定ダッシュボードの設計と運用方法を提案

---
**次のステップ**: 「05_追加演習・補強練習.md」で理解不足領域を補強