# 🎯 分岐網羅（Branch Coverage）- 学習準備・概要把握

## 🌟 分岐網羅とは

### 📊 定義
**分岐網羅（Branch Coverage）**とは、プログラム内のすべての分岐（条件分岐）において、真（True）と偽（False）の両方の経路が少なくとも1回は実行されることを確認するテスト技法です。

### 🔍 具体例で理解する
```java
public class DiscountCalculator {
    public double calculateDiscount(int age, boolean isMember) {
        double discount = 0.0;
        
        if (age >= 65) {              // 分岐1
            discount = 0.15;          // 分岐1-True経路
        } else {                      
            discount = 0.05;          // 分岐1-False経路
        }
        
        if (isMember) {               // 分岐2
            discount += 0.10;         // 分岐2-True経路
        }                            // 分岐2-False経路（何もしない）
        
        return discount;
    }
}
```

**分岐網羅を達成するには**：
- 分岐1-True: `age >= 65` が真になるケース
- 分岐1-False: `age < 65` が偽になるケース  
- 分岐2-True: `isMember` が真になるケース
- 分岐2-False: `isMember` が偽になるケース

## 🆚 命令網羅との違い

### 📈 命令網羅の課題
```java
public boolean validatePassword(String password) {
    if (password != null && password.length() >= 8) {
        return true;
    }
    return false;
}
```

**命令網羅のテストケース（不十分）**：
```java
@Test
public void testValidatePassword() {
    assertTrue(validatePassword("password123"));  // 条件が真の場合のみ
}
```
→ すべての命令は実行されるが、条件が偽の場合はテストされない

**分岐網羅のテストケース（適切）**：
```java
@Test
public void testValidatePassword_BranchCoverage() {
    // 分岐-True: 条件が真
    assertTrue(validatePassword("password123"));
    
    // 分岐-False: 条件が偽  
    assertFalse(validatePassword(null));         // null の場合
    assertFalse(validatePassword("short"));      // 短いパスワード
}
```

### 📊 網羅率の違い

| テストケース | 命令網羅 | 分岐網羅 |
|------------|---------|----------|
| `validatePassword("password123")` のみ | 100% | 50% |
| 上記 + `validatePassword(null)` | 100% | 100% |

## 🎯 なぜ分岐網羅が重要なのか

### 🐛 分岐網羅で発見できるバグ例

#### 例1: 境界条件のバグ
```java
public String getAgeCategory(int age) {
    if (age >= 18) {
        return "Adult";
    } else if (age >= 13) {  // バグ: 18歳の場合も "Teen" になってしまう
        return "Teen";
    }
    return "Child";
}
```

**命令網羅のみ**: `getAgeCategory(20)` → すべての命令実行、バグ未発見
**分岐網羅**: 各分岐の真偽をテスト → バグ発見

#### 例2: 例外処理の漏れ
```java
public void processData(String data) {
    if (data != null) {
        // 正常処理
        System.out.println(data.toUpperCase());
    }
    // else節がない → null の場合の処理が不明確
}
```

**分岐網羅**: null の場合もテスト → 想定外の動作を発見

## 🎯 学習目標

### 📚 この学習で身につけるスキル

#### 🔍 理論理解
- [ ] 分岐網羅の正確な定義を説明できる
- [ ] 命令網羅との違いを具体例で示せる
- [ ] 分岐網羅率の計算方法を理解している
- [ ] 分岐の種類（if、while、for、switch等）を識別できる

#### 🛠️ 実践スキル
- [ ] 与えられたコードで分岐を特定できる
- [ ] 分岐網羅を達成するテストケースを設計できる
- [ ] カバレッジツールで分岐網羅率を測定できる
- [ ] テストケース不足を分岐網羅の観点で特定できる

#### 🚀 応用能力
- [ ] 実務プロジェクトで分岐網羅を適用できる
- [ ] プロジェクト特性に応じた網羅目標を設定できる
- [ ] 他のテスト技法と効果的に組み合わせできる

## 👥 このガイドの対象者

### ✅ 読むべき人
- ソフトウェアテストエンジニア（初級～中級）
- 開発者（単体テスト品質向上を目指す）
- QAエンジニア（テスト技法を体系的に学びたい）
- プロジェクトマネージャー（テスト品質基準を理解したい）

### 📚 前提知識
- **必須**: 命令網羅の理解
- **推奨**: 基本的なプログラミング知識（Java、C#、Python等）
- **推奨**: テストフレームワークの基本（JUnit、NUnit等）

## 🎯 具体的な成果物設定

### 📋 学習完了時の成果物

#### 📊 理論理解の確認
- [ ] 分岐網羅の概念説明レポート（A4 1枚）
- [ ] 命令網羅との比較表作成
- [ ] 分岐網羅率計算の演習解答

#### 🛠️ 実践スキルの証明
- [ ] 複雑なコードでの分岐特定演習
- [ ] 分岐網羅を達成するテストケース設計
- [ ] カバレッジツールの使用レポート

#### 🚀 応用能力の実証
- [ ] 実務シナリオでの分岐網羅適用計画
- [ ] プロジェクト品質基準への分岐網羅組み込み提案
- [ ] 他技法との組み合わせ戦略書

### 📈 評価基準
- **合格基準**: 各演習で80%以上の正答率
- **優秀基準**: 実務適用可能なレベルでの理解と実践
- **実務適用**: チームメンバーに分岐網羅の価値を説明できる

## 🔄 学習の進め方

### 📚 効果的な学習方法

#### 🔍 理解重視のアプローチ
1. **概念理解**: まず分岐網羅の本質を理解
2. **比較学習**: 命令網羅との違いを明確に
3. **段階的実践**: 簡単なコードから複雑なコードへ
4. **ツール活用**: カバレッジ測定で理論と実践を統合

#### 💪 練習重視のアプローチ
1. **多様なコード**: 様々なプログラムで練習
2. **パターン学習**: よくある分岐構造の習得
3. **実務応用**: 実際のプロジェクトコードで練習
4. **継続改善**: 定期的な振り返りと改善

### ⏰ 学習ペース
- **集中学習**: 1日で全体を学習（推奨）
- **分散学習**: 2-3日に分けて学習
- **継続学習**: 1週間かけてじっくり学習

## 📊 分岐網羅の実務価値

### 💼 ビジネス価値
- **品質向上**: 条件分岐のバグを早期発見
- **リスク軽減**: 想定外のケースでのシステム障害防止
- **信頼性確保**: 金融・医療等の高信頼性システムでの必須技法
- **保守性向上**: テストの網羅性を定量的に管理

### 📈 技術的価値
- **バグ検出力**: 命令網羅より高いバグ検出能力
- **テスト設計**: 体系的なテストケース設計手法
- **品質測定**: 客観的なテスト品質指標
- **継続改善**: カバレッジ測定による継続的品質向上

## 🎯 学習完了後の次のステップ

### 🔄 発展学習
- **条件網羅**: より詳細な条件式のテスト
- **MC/DC**: 航空宇宙等の高信頼性要求対応
- **パス網羅**: 実行可能な全経路のテスト

### 💼 実務応用
- **プロジェクト適用**: 実際の開発プロジェクトでの活用
- **チーム共有**: チームメンバーへの技法共有
- **品質基準**: プロジェクト品質基準への組み込み

---

## 🚀 次のアクション

準備ができたら **「02_理論学習・基本演習.md」** に進んで、分岐網羅の具体的な学習を開始しましょう！

分岐網羅をマスターして、より高品質なテストを実現する第一歩を踏み出してください。
