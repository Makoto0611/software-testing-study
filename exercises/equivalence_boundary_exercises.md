# 同値分割・境界値テスト演習

## 基本概念

### 同値分割（Equivalence Partitioning）
- 入力値を同じ処理結果になるグループに分類
- 各グループから代表値を1つずつ選択してテスト
- **有効同値クラス**：正常な処理が期待される値の範囲
- **無効同値クラス**：エラーが期待される値の範囲

### 境界値分析（Boundary Value Analysis）
- 同値クラスの境界付近の値を重点的にテスト
- 境界値、境界値±1の値をテスト
- 経験上、境界付近でバグが発生しやすい

## 演習問題

### 【演習1】年齢入力システム
**仕様**：会員登録で年齢を入力（18歳以上65歳以下が有効）

**同値分割**
- 有効同値クラス：18 ≤ age ≤ 65
- 無効同値クラス1：age < 18
- 無効同値クラス2：age > 65

**境界値テスト**
| テストケース | 入力値 | 期待結果 | 分類 |
|-------------|--------|----------|------|
| TC001 | 17 | エラー | 下限境界-1 |
| TC002 | 18 | 正常 | 下限境界 |
| TC003 | 19 | 正常 | 下限境界+1 |
| TC004 | 64 | 正常 | 上限境界-1 |
| TC005 | 65 | 正常 | 上限境界 |
| TC006 | 66 | エラー | 上限境界+1 |

---

### 【演習2】パスワード強度チェック
**仕様**：
- 長さ：8-20文字
- 必須：英大文字、英小文字、数字各1文字以上
- 禁止文字：スペース、日本語

#### あなたの解答を記入してください：

**同値分割**
- 有効同値クラス：
- 無効同値クラス：

**境界値テスト**
| テストケース | 入力値 | 期待結果 | 分類 |
|-------------|--------|----------|------|
|  |  |  |  |

---

### 【演習3】割引計算システム
**仕様**：購入金額に応じた割引率
- 1,000円未満：割引なし（0%）
- 1,000円以上5,000円未満：5%割引
- 5,000円以上10,000円未満：10%割引
- 10,000円以上：15%割引

#### あなたの解答を記入してください：

**同値分割**
1. 
2. 
3. 
4. 

**境界値テスト**
| テストケース | 入力値 | 期待結果 | 分類 |
|-------------|--------|----------|------|
|  |  |  |  |

---

## 解答例

### 【演習2解答】パスワード強度チェック

**同値分割**
- 有効同値クラス：8-20文字で大文字・小文字・数字を含む
- 無効同値クラス1：7文字以下
- 無効同値クラス2：21文字以上
- 無効同値クラス3：大文字なし
- 無効同値クラス4：小文字なし
- 無効同値クラス5：数字なし
- 無効同値クラス6：禁止文字含む

**境界値テスト**
| テストケース | 入力値 | 期待結果 | 分類 |
|-------------|--------|----------|------|
| TC001 | Abc123e | エラー（7文字） | 下限境界-1 |
| TC002 | Abc1234f | 正常（8文字） | 下限境界 |
| TC003 | Abc1234fg | 正常（9文字） | 下限境界+1 |
| TC004 | Abc123456789012345g | 正常（19文字） | 上限境界-1 |
| TC005 | Abc123456789012345gh | 正常（20文字） | 上限境界 |
| TC006 | Abc123456789012345ghi | エラー（21文字） | 上限境界+1 |

### 【演習3解答】割引計算システム

**同値分割**
1. 0円以上1,000円未満：0%割引
2. 1,000円以上5,000円未満：5%割引
3. 5,000円以上10,000円未満：10%割引
4. 10,000円以上：15%割引

**境界値テスト**
| テストケース | 入力値 | 期待結果 | 分類 |
|-------------|--------|----------|------|
| TC001 | 999円 | 0%割引 | 1,000円境界-1 |
| TC002 | 1,000円 | 5%割引 | 1,000円境界 |
| TC003 | 1,001円 | 5%割引 | 1,000円境界+1 |
| TC004 | 4,999円 | 5%割引 | 5,000円境界-1 |
| TC005 | 5,000円 | 10%割引 | 5,000円境界 |
| TC006 | 5,001円 | 10%割引 | 5,000円境界+1 |
| TC007 | 9,999円 | 10%割引 | 10,000円境界-1 |
| TC008 | 10,000円 | 15%割引 | 10,000円境界 |
| TC009 | 10,001円 | 15%割引 | 10,000円境界+1 |

## 実践のポイント

### 効果的な同値分割のコツ
1. **仕様書を詳しく読む**：条件分岐を見つける
2. **データ型を考慮**：文字列、数値、論理値など
3. **業務ルールを理解**：ドメイン知識が重要

### 境界値選定の注意点
1. **整数vs実数**：境界値の定義が異なる
2. **包含関係**：「以上」「未満」「超える」の違い
3. **複数条件**：AND/OR条件での境界値組み合わせ

### よくある失敗パターン
- 無効値のテストを忘れる
- 境界値の±1を確認しない
- 複数項目の境界値組み合わせを見落とす
- エラーメッセージの妥当性確認不足