# 💪 境界値分析 上級演習・実務レベル

## 📚 学習目標設定

### 🎯 **この段階で目指すゴール**
実務で遭遇する複雑な条件に対しても適切な境界値分析を実行し、プロジェクトの品質向上に貢献できるレベルに到達する

### 📋 **具体的な学習成果物**
- [ ] 複雑な複数条件での境界値分析の実行能力
- [ ] 例外処理・エラー条件を含む境界値分析
- [ ] パフォーマンス・セキュリティを考慮した境界値設計
- [ ] 他のテスト技法との効果的な組み合わせ
- [ ] 実務プロジェクトでの適用戦略の策定能力

### ⏰ **推奨学習時間**
約90分（理論30分 + 演習60分）

### 👥 **対象者**
- 基本的な境界値分析を習得済みの方
- 実務でより高度なテスト設計を求められる方
- チーム内でテスト技法の指導を行う方

---

## 🎯 上級境界値分析の概念

### 🔧 **実務での境界値分析の複雑性**

#### **複雑性の要因**
1. **複数パラメータの相互依存**
2. **動的な境界値（状態依存）**
3. **例外処理の境界条件**
4. **パフォーマンス制約の境界**
5. **セキュリティ考慮の境界**

#### **上級技法が必要な場面**
```
❌ 単純: 「年齢は18-65歳」
✅ 複雑: 「年齢は18-65歳、ただし学生証提示で16歳から可、
         プレミアム会員は70歳まで可、
         ただし医師の診断書があれば15歳から可」
```

### 📊 **上級境界値分析のアプローチ**

#### **1. 階層化境界値分析**
複雑な条件を階層に分けて分析

```
第1層: 基本年齢制限 (18-65歳)
第2層: 特例条件 (学生証で16歳-, プレミアムで70歳+)
第3層: 医療特例 (診断書で15歳-)
```

#### **2. 状態依存境界値分析**
システムの状態によって境界値が変動する場合

```
ログイン前: ファイルサイズ上限 10MB
ログイン後: ファイルサイズ上限 100MB
プレミアム: ファイルサイズ上限 1GB
```

#### **3. 動的境界値分析**
時間やリソース使用量によって境界値が変動

```
営業時間内: 同時接続数上限 1000
営業時間外: 同時接続数上限 100
ピーク時間: 同時接続数上限 500
```

---

## 🎯 上級演習

### 📝 **演習1: 複雑な条件での境界値分析**

#### **仕様: オンライン学習プラットフォーム**
```
動画アップロード機能の制限
- 一般ユーザー: 100MB以下、30分以下
- プレミアムユーザー: 500MB以下、180分以下
- 講師ユーザー: 2GB以下、600分以下
- 管理者: 制限なし

追加条件:
- HD画質の場合、ファイルサイズ制限が2倍に緩和
- 平日9-17時は全ユーザーのファイルサイズ制限が半分
- 月末3日間はプレミアム機能が全ユーザーに開放
- エラー時は3回まで再試行可能、4回目でロック（24時間）
```

#### **課題**
1. この複雑な仕様を整理して境界値分析を実行
2. 最も効果的なテストケースを優先度付きで設計
3. テスト実行時の注意点を整理

#### **解答記入欄**

**1. 条件整理マトリックス**
| ユーザー種別 | 通常時制限 | HD時制限 | 平日9-17時制限 | 月末3日制限 |
|-------------|------------|----------|----------------|-------------|
| 一般 | | | | |
| プレミアム | | | | |
| 講師 | | | | |
| 管理者 | | | | |

**2. 境界値特定（上位5パターン）**
| 優先度 | ユーザー種別 | 条件 | ファイルサイズ | 時間 | 期待結果 | 理由 |
|--------|-------------|------|---------------|------|----------|------|
| 最高 | | | | | | |
| 高 | | | | | | |
| 高 | | | | | | |
| 中 | | | | | | |
| 中 | | | | | | |

**3. テスト実行時の注意点**
```
[記入]
```

### 📝 **演習2: API境界値とパフォーマンス考慮**

#### **仕様: REST API設計**
```
商品検索API (/api/products/search)
- クエリパラメータ:
  - q: 検索語（1-100文字）
  - category: カテゴリID（1-9999）
  - price_min: 最低価格（1-999,999円）
  - price_max: 最高価格（1-999,999円）
  - limit: 取得件数（1-100件）
  - offset: 開始位置（0-10,000）

パフォーマンス制約:
- レスポンス時間: 2秒以内
- 同時リクエスト: 100req/sec以下
- 1時間あたりのAPI呼び出し: 1,000回以下

エラー処理:
- 不正パラメータ: 400 Bad Request
- レート制限超過: 429 Too Many Requests
- サーバーエラー: 500 Internal Server Error
```

#### **課題**
1. パフォーマンス境界値を含むテストケース設計
2. エラー境界条件のテストケース設計
3. 実際のAPI仕様書に含めるべき境界値情報の整理

#### **解答記入欄**

**1. パフォーマンス境界値テストケース**
| テストケース | 条件設定 | 測定項目 | 期待値 | 境界値理由 |
|-------------|----------|----------|--------|------------|
| | | | | |
| | | | | |
| | | | | |

**2. エラー境界条件テストケース**
| エラー種別 | 境界値設定 | HTTPステータス | エラーメッセージ |
|------------|------------|----------------|------------------|
| | | | |
| | | | |
| | | | |

**3. API仕様書の境界値情報**
```
[記入: 開発者が参照すべき境界値情報の整理]
```

### 📝 **演習3: セキュリティを考慮した境界値分析**

#### **仕様: ユーザー認証システム**
```
パスワードポリシー:
- 長さ: 8-128文字
- 必須文字種: 英大文字、英小文字、数字、記号のうち3種類以上
- 禁止文字: スペース、タブ、改行
- 連続同一文字: 3文字以下
- 辞書語の禁止: 一般的な単語の使用禁止

セキュリティ制約:
- ログイン試行: 5回まで、超過で30分ロック
- パスワード変更: 24時間に1回まで
- セッション: 無操作30分でタイムアウト
- 履歴チェック: 過去10回のパスワードは使用禁止

追加セキュリティ:
- 総当たり攻撃対策: 同一IPから100回/時間でブロック
- SQLインジェクション対策: 特殊文字のサニタイズ
- XSS対策: スクリプトタグ等の検出
```

#### **課題**
1. セキュリティ境界値の特定
2. 攻撃パターンを想定した境界値テスト設計
3. セキュリティ監査で確認すべき境界値項目の整理

#### **解答記入欄**

**1. セキュリティ境界値マップ**
| セキュリティ項目 | 境界値 | テスト観点 | 期待結果 |
|------------------|--------|------------|----------|
| | | | |
| | | | |
| | | | |

**2. 攻撃パターン境界値テスト**
| 攻撃種別 | 境界値入力 | 検証ポイント | 期待する防御結果 |
|----------|------------|--------------|------------------|
| | | | |
| | | | |
| | | | |

**3. セキュリティ監査チェックリスト**
```
[ ] パスワード強度の境界値検証
[ ] ログイン試行回数の制限検証
[ ] セッション管理の境界値検証
[ ] [追加項目を記入]
```

---

## 🔧 他技法との組み合わせ

### 🤝 **境界値分析 × デシジョンテーブル**

#### **適用場面**
複数条件が複雑に組み合わさる場合

#### **組み合わせ手法**
```
1. デシジョンテーブルで条件の組み合わせを整理
2. 各条件に対して境界値分析を適用
3. 重要な組み合わせの境界値を優先的にテスト
```

#### **演習例: 保険料計算システム**
```
条件:
- 年齢: 18-80歳
- 職業リスクレベル: 1-5
- 保険金額: 100万-5000万円
- 契約期間: 1-30年

組み合わせルール:
- 高リスク職業(4-5)は年齢制限65歳まで
- 高額保険(3000万円以上)は職業リスク3以下のみ
- 長期契約(20年以上)は年齢55歳以下のみ
```

**課題**: デシジョンテーブルと境界値分析を組み合わせたテスト設計

### 🤝 **境界値分析 × 状態遷移テスト**

#### **適用場面**
システムの状態によって境界値が変わる場合

#### **組み合わせ手法**
```
1. 状態遷移図で状態を特定
2. 各状態での境界値を分析
3. 状態遷移の境界条件もテスト
```

---

## 🎯 実務適用戦略

### 📊 **プロジェクトでの境界値分析計画**

#### **計画フェーズ**
1. **要件分析**: 仕様書から境界値候補を抽出
2. **優先度設定**: リスクと重要度による優先度付け
3. **リソース配分**: テスト工数と期間の見積もり
4. **実行計画**: テスト環境とデータ準備

#### **実行フェーズ**
1. **テストケース作成**: 詳細なテストケース設計
2. **テストデータ準備**: 境界値テスト用データの作成
3. **テスト実行**: 計画的なテスト実行
4. **結果分析**: バグ傾向の分析と改善提案

### 📝 **実務演習: プロジェクト適用計画**

#### **想定プロジェクト: ECサイトリニューアル**
```
プロジェクト概要:
- 期間: 6ヶ月
- チーム: 開発5名、テスト3名
- 主要機能: 商品管理、注文処理、決済、ユーザー管理

境界値分析対象:
- 商品価格、在庫数、カテゴリ数
- 注文数量、配送料計算
- 決済金額、ポイント利用
- ユーザー情報、パスワード要件
```

#### **課題**
このプロジェクトでの境界値分析戦略を策定してください

#### **解答記入欄**

**1. 境界値分析優先度マトリックス**
| 機能分野 | 境界値項目 | ビジネス影響 | 技術リスク | 優先度 | 理由 |
|----------|------------|-------------|------------|---------|------|
| | | | | | |
| | | | | | |
| | | | | | |

**2. テスト工数見積もり**
| フェーズ | 作業内容 | 想定工数 | 担当者 | 期限 |
|----------|----------|----------|--------|------|
| | | | | |
| | | | | |
| | | | | |

**3. 成功指標**
```
[記入: プロジェクトでの境界値分析の成功をどう測定するか]
```

---

## 🔍 上級技術者としての視点

### 💡 **境界値分析の効果測定**

#### **定量的指標**
- **バグ検出率**: 境界値テストで発見されたバグ数/総バグ数
- **バグ重要度**: 境界値テストで発見された致命的バグの割合
- **テスト効率**: テストケース数に対するバグ発見数
- **カバレッジ**: 特定した境界値のテスト実行率

#### **定性的指標**
- **設計品質向上**: 境界値分析により改善された設計
- **チームスキル向上**: チーム内での技法習得度
- **顧客満足度**: リリース後のユーザー報告バグ減少

### 📊 **継続的改善のサイクル**

#### **1. 分析結果の蓄積**
```
プロジェクト終了時:
- 効果のあった境界値パターンの記録
- 見落としがちな境界値の特定
- 工数対効果の分析
```

#### **2. 知識の組織化**
```
チーム内での共有:
- 境界値分析のベストプラクティス集
- プロジェクト固有の注意点
- 再利用可能なテストケーステンプレート
```

#### **3. 技法の改善**
```
手法の最適化:
- プロジェクト特性に応じたカスタマイズ
- 新しい技法との組み合わせ
- 自動化ツールの活用
```

---

## 📊 この段階の学習成果確認

### ✅ **上級スキルチェックリスト**

#### **複雑性対応力**
- [ ] 複数条件が絡む境界値分析を実行できる
- [ ] 状態依存の境界値を適切に特定できる
- [ ] パフォーマンス制約を考慮した境界値設計ができる

#### **実務適用力**
- [ ] プロジェクトでの境界値分析戦略を策定できる
- [ ] 他技法との効果的な組み合わせができる
- [ ] チームメンバーに指導・共有ができる

#### **品質管理力**
- [ ] 境界値分析の効果を測定・評価できる
- [ ] 継続的改善のサイクルを構築できる
- [ ] セキュリティ・パフォーマンス観点を組み込める

### 📝 **学習成果の記録**

#### **習得できた上級スキル**
```
[記入例]
- 複数条件での階層化分析手法
- API境界値とパフォーマンス制約の両立
- セキュリティ境界値の特定と検証
```

#### **実務適用の具体的イメージ**
```
[記入例]
- 次のプロジェクトで試したい境界値分析手法
- チーム内での技法共有方法
- 品質向上への貢献方法
```

#### **さらに向上したい領域**
```
[記入例]
- 自動化ツールとの連携
- 大規模システムでの適用
- 他の高度なテスト技法との組み合わせ
```

---

## 🚀 次のステップ

### ✅ **この段階完了の判断基準**
- 複雑な実務レベルの課題に対応できる
- 他技法との組み合わせができる
- プロジェクトでの適用戦略を策定できる

### 📖 **次の学習内容**
`05_追加演習・補強練習.md` で、特定分野の深掘りや弱点補強を行います。

### 🎯 **実務での活用準備**
- 学習内容を実際のプロジェクトで試用
- チームメンバーとの知識共有
- 継続的な技法改善の実践

**💪 実務レベルスキル確認**
複雑な条件に対しても適切な境界値分析を実行し、プロジェクトの品質向上に貢献できるレベルに到達しましたか？

次の段階では、理解不足の補強や特定分野での深掘り学習により、より安定したスキルの習得を目指します！