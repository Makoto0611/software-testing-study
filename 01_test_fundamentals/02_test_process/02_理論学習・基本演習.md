# 🎯 テストプロセス - 理論学習・基本演習

## 📚 テストレベル（Test Levels）

### 🔧 **単体テスト（Unit Testing）**

#### 💡 目的と特徴
- **個々のモジュール・コンポーネント**の動作検証
- **開発者が実施**するテスト（主にホワイトボックス）
- **早期の欠陥発見**による修正コスト削減

#### 📋 検証対象・範囲
```
✅ 検証する内容：
- 関数・メソッドの入出力正確性
- 条件分岐・ループ処理の正確性
- 例外処理・エラーハンドリング
- データ型・範囲チェック
- 境界値での動作

❌ 検証しない内容：
- 他モジュールとの連携
- 外部システムとの通信
- ユーザーインターフェース
- 全体的な業務フロー
```

#### 🎯 成果物・責任
| 項目 | 内容 | 責任者 |
|------|------|--------|
| **入力** | 詳細設計書、ソースコード | 開発者 |
| **テスト設計** | 単体テスト仕様書、テストケース | 開発者 |
| **実行** | テスト実行、結果記録 | 開発者 |
| **出力** | 単体テスト結果報告書 | 開発者 |
| **完了基準** | コードカバレッジ目標達成、全ケース成功 | 開発者 |

#### 📝 基本演習1-1
以下の関数の単体テストを設計してください：
```java
public int calculateDiscount(int price, String customerType) {
    if (price < 0) throw new IllegalArgumentException("負の価格");
    if (customerType == null) throw new IllegalArgumentException("顧客種別なし");
    
    switch (customerType) {
        case "PREMIUM": return price >= 10000 ? (int)(price * 0.8) : (int)(price * 0.9);
        case "REGULAR": return price >= 5000 ? (int)(price * 0.95) : price;
        default: return price;
    }
}
```

**テストケース設計**：
```
TC1: 正常系（PREMIUM、10000円以上）
入力：price=15000, customerType="PREMIUM"
期待結果：12000

TC2: [あなたが追加]
入力：
期待結果：

TC3: [あなたが追加]
入力：
期待結果：

TC4: [境界値テスト]
入力：
期待結果：

TC5: [異常系テスト]
入力：
期待結果：
```

---

### 🔗 **統合テスト（Integration Testing）**

#### 💡 目的と特徴
- **モジュール間の連携**・**インターフェース**の検証
- **段階的な結合**によるリスク軽減
- **データフローの整合性**確認

#### 🎯 統合テストのアプローチ

##### 📈 ビッグバン統合
```
特徴：全モジュールを一度に結合
メリット：シンプル、短期間
デメリット：問題箇所の特定困難、高リスク
適用場面：小規模システム、プロトタイプ
```

##### 🔼 トップダウン統合
```
特徴：上位モジュールから段階的に結合
必要ツール：スタブ（下位モジュールの代替）
メリット：主要フローの早期確認
デメリット：下位モジュールのテスト遅延
```

##### 🔽 ボトムアップ統合
```
特徴：下位モジュールから段階的に結合
必要ツール：ドライバー（上位モジュールの代替）
メリット：基盤機能の確実な動作確認
デメリット：全体フローの確認遅延
```

##### 🎯 サンドイッチ統合
```
特徴：トップダウンとボトムアップの組み合わせ
メリット：両アプローチの利点活用
デメリット：複雑な管理、スタブ・ドライバー両方必要
```

#### 📝 基本演習1-2
以下のシステム構成で統合テスト戦略を立案してください：

```
システム構成：
[Web UI] → [Controller] → [Service] → [DAO] → [Database]
              ↓
           [Logger]    [Cache]
```

**統合テスト戦略**：
```
選択アプローチ：[ ]ビッグバン [ ]トップダウン [ ]ボトムアップ [ ]サンドイッチ

選択理由：

統合順序：
Step1: 
Step2: 
Step3: 
Step4: 

必要なテストツール：
スタブ: 
ドライバー: 

重点検証ポイント：
1. 
2. 
3. 
```

---

### 🖥️ **システムテスト（System Testing）**

#### 💡 目的と特徴
- **システム全体**の要件適合性検証
- **実環境に近い条件**でのテスト実行
- **ブラックボックス**テスト中心

#### 🎯 システムテストの種類

##### 🔍 機能テスト
```
目的：要求仕様に対する機能の正確性検証
観点：
- 業務フローの完全性
- 入出力の正確性
- データ処理の正確性
- 例外・エラー処理
```

##### ⚡ 性能テスト
```
目的：非機能要件（性能）の検証
種類：
- 負荷テスト：通常想定負荷での性能
- ストレステスト：限界負荷での動作
- ボリュームテスト：大量データでの処理
- スパイクテスト：急激な負荷変動への対応
```

##### 🔒 セキュリティテスト
```
目的：セキュリティ要件の検証
観点：
- 認証・認可の適切性
- データ暗号化・保護
- 不正アクセス防止
- 脆弱性の有無
```

##### 🔄 可用性テスト
```
目的：システムの安定性・回復力検証
観点：
- 障害時の動作（フェイルオーバー）
- 復旧時間・手順
- データ整合性維持
- 運用監視機能
```

#### 📝 基本演習1-3
ECサイトのシステムテスト計画を立案してください：

```
システム概要：
- オンラインショッピングサイト
- 会員登録・ログイン機能
- 商品検索・購入機能
- 決済・配送管理機能
- 管理者機能

非機能要件：
- 同時アクセス：1000ユーザー
- 応答時間：3秒以内
- 稼働率：99.9%以上
- セキュリティ：PCI DSS準拠
```

**システムテスト計画**：
```
【機能テスト】
重点テストシナリオ（3つ）：
1. 
2. 
3. 

【性能テスト】
実施内容：
- 負荷テスト：
- ストレステスト：
測定項目：
- 
- 

【セキュリティテスト】
検証項目：
1. 
2. 
3. 

【テスト環境】
本番環境との相違点：
考慮すべき制約：
```

---

### 👤 **受入テスト（Acceptance Testing）**

#### 💡 目的と特徴
- **ユーザー・ビジネス要件**への適合性検証
- **実際のユーザー**による使用感・有用性確認
- **リリース判定**のための最終検証

#### 🎯 受入テストの種類

##### 💼 ユーザー受入テスト（UAT: User Acceptance Testing）
```
実施者：エンドユーザー・業務担当者
目的：実際の業務での使用可能性検証
観点：
- 業務フローとの適合性
- 使いやすさ・効率性
- 帳票・画面の業務適合性
- データ移行・変換の正確性
```

##### 📋 業務受入テスト（BAT: Business Acceptance Testing）
```
実施者：業務部門・事業責任者
目的：ビジネス要件への適合性検証
観点：
- ROI・コスト効果
- 業務プロセス改善効果
- 法的規制・業界標準への準拠
- 競合優位性・差別化要因
```

##### 🏭 運用受入テスト（OAT: Operational Acceptance Testing）
```
実施者：運用・保守担当者
目的：運用・保守の実現可能性検証
観点：
- 運用手順・マニュアルの妥当性
- 監視・アラート機能
- バックアップ・復旧手順
- 保守・メンテナンス作業
```

##### 📜 契約受入テスト（CAT: Contract Acceptance Testing）
```
実施者：発注者・契約責任者
目的：契約要件への適合性検証
観点：
- 契約書記載要件の充足
- SLA（Service Level Agreement）の達成
- 納期・品質・コストの妥当性
- 知的財産権・ライセンス遵守
```

#### 📝 基本演習1-4
人事管理システムの受入テスト計画を策定してください：

```
システム概要：
- 従業員情報管理
- 勤怠管理・給与計算
- 人事評価・目標管理
- 組織管理・異動履歴

ステークホルダー：
- 人事部（業務ユーザー）
- 経理部（給与業務）
- 各部門長（評価業務）
- IT部門（運用担当）
- 経営陣（承認者）
```

**受入テスト計画**：
```
【ユーザー受入テスト（UAT）】
実施者：
テスト内容：
- 
- 
- 
合格基準：

【業務受入テスト（BAT）】
実施者：
テスト内容：
- 
- 
合格基準：

【運用受入テスト（OAT）】
実施者：
テスト内容：
- 
- 
合格基準：

【全体的な受入基準】
必須要件：
推奨要件：
```

---

## 🔄 **テストプロセス（Test Process）**

### 📋 **テスト計画（Test Planning）**

#### 💡 目的と活動内容
- **テスト戦略・方針**の策定
- **リソース・スケジュール**の計画
- **リスク評価・対応策**の定義

#### 📝 主要な計画要素

##### 🎯 テスト戦略
```
テストアプローチ：
- テストレベルの選択・組み合わせ
- テスト技法の選択基準
- 自動化・手動の使い分け
- 品質基準・完了条件

リスクベースアプローチ：
- 高リスク領域の特定
- リスク対応優先順位
- 緊急時のテスト縮小戦略
```

##### ⏰ スケジュール・リソース
```
テストスケジュール：
- テストフェーズごとの期間
- マイルストーン・チェックポイント
- 他チームとの依存関係
- バッファ・リスク対応期間

リソース計画：
- テスト要員のスキル・役割分担
- テスト環境・ツールの準備
- テストデータの準備計画
- 外部委託・協力体制
```

#### 📝 基本演習2-1
プロジェクト情報からテスト計画を策定してください：

```
プロジェクト：
- 期間：6ヶ月（設計2ヶ月、開発3ヶ月、テスト1ヶ月）
- チーム：開発者5名、テスター2名
- システム：顧客管理Webシステム
- 制約：予算固定、納期厳守、高い可用性要求

リスク要因：
- 新技術採用（チーム未経験）
- 外部API連携（3システム）
- データ移行（既存システムから）
```

**テスト計画（概要）**：
```
【テスト戦略】
重点テストレベル：
選択理由：

リスク対応：
高リスク領域：
対応策：

【スケジュール】
テスト期間配分：
- 単体テスト：___週
- 統合テスト：___週  
- システムテスト：___週
- 受入テスト：___週

【リソース】
役割分担：
- テストリーダー：
- テスター1：
- テスター2：
- 開発者（テスト支援）：

【完了基準】
必須要件：
推奨要件：
```

---

### 🔍 **テスト分析・設計（Test Analysis and Design）**

#### 💡 目的と活動内容
- **テスト条件・ケース**の特定・設計
- **テストデータ・環境**の要件定義
- **テスト技法**の適用

#### 📋 主要な分析・設計活動

##### 🔎 テスト分析
```
テストベース分析：
- 要件仕様書・設計書の分析
- テスト可能性の評価
- 不明瞭・矛盾点の特定
- 暗黙の前提・仮定の明確化

テスト条件導出：
- 機能・非機能要件からの条件抽出
- 正常系・異常系・境界値の特定
- 業務シナリオ・ユースケースの分析
```

##### ✏️ テスト設計
```
テストケース設計：
- テスト技法の適用
- 入力・期待結果の明確化
- 実行順序・依存関係の整理
- 自動化・手動の判定

テストデータ設計：
- 必要データパターンの特定
- データ準備・クリーンアップ手順
- プライバシー・セキュリティ考慮
- データの再利用性・保守性
```

#### 📝 基本演習2-2
ログイン機能のテスト分析・設計を行ってください：

```
機能仕様：
- ユーザーID：英数字6-20文字（必須）
- パスワード：英数字記号8-30文字（必須）
- ログイン回数制限：5回失敗でアカウントロック
- セッション：30分で自動タイムアウト
- パスワード：90日で期限切れ
```

**テスト分析結果**：
```
【テスト条件（主要なもの5つ）】
1. 
2. 
3. 
4. 
5. 

【テスト技法の適用】
同値分割：
境界値分析：
デシジョンテーブル：

【テストケース例（3つ）】
TC1: 
入力：
期待結果：

TC2: 
入力：
期待結果：

TC3: 
入力：
期待結果：
```

---

### 🛠️ **テスト実装（Test Implementation）**

#### 💡 目的と活動内容
- **テスト環境・データ**の準備
- **テストスクリプト・自動化**の実装
- **テスト実行**の準備完了

#### 📋 主要な実装活動

##### 🏗️ テスト環境構築
```
環境準備：
- ハードウェア・ソフトウェアのセットアップ
- テスト対象システムのデプロイ
- 外部システム・サービスの準備
- ネットワーク・セキュリティ設定

環境管理：
- 環境の状態管理・復旧手順
- テストデータのリセット手順
- 他チームとの環境共有ルール
- 環境問題のエスカレーション手順
```

##### 🤖 テスト自動化
```
自動化対象選定：
- ROI分析に基づく優先順位
- 繰り返し実行の必要性
- テストの安定性・保守性
- 技術的実現可能性

自動化実装：
- テストスクリプトの作成
- テストデータ管理の自動化
- CI/CDパイプラインとの統合
- レポート・通知の自動化
```

#### 📝 基本演習2-3
ECサイトのテスト実装計画を策定してください：

```
システム構成：
- Web フロントエンド（React）
- API サーバー（Spring Boot）
- データベース（MySQL）
- 決済システム（外部API）
- メール送信（外部サービス）

テスト自動化要件：
- 回帰テストの自動化
- CI/CD パイプライン統合
- テスト結果の自動レポート
```

**テスト実装計画**：
```
【テスト環境戦略】
環境構成：
- 開発環境：
- テスト環境：
- ステージング環境：

外部依存の対応：
- 決済システム：
- メール送信：

【自動化戦略】
自動化対象（優先度順）：
1. 
2. 
3. 

自動化ツール選定：
- UI テスト：
- API テスト：
- データベーステスト：

【実装スケジュール】
Week1: 
Week2: 
Week3: 
```

---

### 🚀 **テスト実行（Test Execution）**

#### 💡 目的と活動内容
- **テストケース**の実行・結果記録
- **欠陥**の検出・報告・追跡
- **実行状況**の監視・報告

#### 📋 主要な実行活動

##### ▶️ テスト実行管理
```
実行統制：
- テスト実行スケジュールの管理
- テスト結果の記録・整理
- ブロッカー・課題の管理
- 進捗・品質状況の報告

品質監視：
- テスト進捗率の監視
- 欠陥検出率・修正率の追跡
- 品質メトリクスの測定
- リスク状況の評価
```

##### 🐛 欠陥管理
```
欠陥ライフサイクル：
New → Open → Fixed → Verified → Closed
    ↓
  Rejected / Deferred

欠陥情報：
- 欠陥ID・タイトル・説明
- 発見者・担当者・優先度・重要度
- 再現手順・環境情報
- 修正内容・テスト結果
```

#### 📝 基本演習2-4
テスト実行中の状況管理を行ってください：

```
プロジェクト状況（テスト実行3日目）：
- 計画テストケース：200件
- 実行完了：80件（成功：70件、失敗：10件）
- 実行中断：5件（環境問題）
- 未実行：115件

発見欠陥：
- 重要度高：2件（未修正）
- 重要度中：5件（修正済み2件、未修正3件）
- 重要度低：3件（すべて未修正）
```

**状況分析・報告**：
```
【進捗状況】
実行進捗率：____%
完了予定：
遅延リスク：

【品質状況】
欠陥検出率：
重要欠陥の状況：
品質懸念：

【課題・対応】
主要課題：
1. 
2. 

対応策：
1. 
2. 

【ステークホルダー報告】
経営層向け（1分で説明）：

開発チーム向け（具体的依頼）：
```

---

### ✅ **テスト完了（Test Completion）**

#### 💡 目的と活動内容
- **テスト結果**の最終評価・報告
- **成果物**の整理・引き継ぎ
- **教訓・改善点**の整理

#### 📋 主要な完了活動

##### 📊 最終評価・報告
```
品質評価：
- テスト完了基準の達成状況
- 残存欠陥のリスク評価
- 品質メトリクスの最終測定
- リリース可否の判定支援

最終報告：
- テスト実行サマリー
- 品質状況・リスク評価
- 残存課題・推奨事項
- 運用・保守への引き継ぎ事項
```

##### 📚 ナレッジ・改善
```
成果物整理：
- テスト仕様書・結果の整理・保管
- テスト環境・データの整理
- 自動化スクリプトの保守・引き継ぎ
- ツール・手順書の更新

プロセス改善：
- テストプロセスの振り返り
- 効果的だった手法・ツールの整理
- 改善すべき課題の特定
- 次回プロジェクトへの提言
```

#### 📝 基本演習2-5
テスト完了報告書を作成してください：

```
プロジェクト最終状況：
- 実行テストケース：500件（成功：480件、失敗：20件）
- 発見欠陥：45件（修正完了：40件、残存：5件）
- テスト期間：予定4週間、実績4.5週間
- 主要課題：外部API不安定による実行遅延

残存欠陥：
- 重要度高：0件
- 重要度中：2件（画面表示の軽微な問題）
- 重要度低：3件（マニュアル記載で回避可能）
```

**テスト完了報告書**：
```
【エグゼクティブサマリー】
テスト結果概要：
品質評価：
リリース推奨度：

【詳細結果】
テスト実行状況：
- 実行率：____%
- 成功率：____%
- 欠陥発見件数：___件

品質メトリクス：
- 欠陥密度：
- 修正率：
- 回帰テスト結果：

【リスク・推奨事項】
残存リスク：
1. 
2. 

運用時の注意事項：
1. 
2. 

【プロセス改善提言】
効果的だった取り組み：
1. 
2. 

改善すべき点：
1. 
2. 
```

---

## 🏗️ **V字モデル（V-Model）**

### 📐 V字モデルの構造理解

#### 🎯 V字モデルの基本概念
```
【左側：開発フェーズ】        【右側：テストフェーズ】
要件定義 ←→ 受入テスト設計    受入テスト ←→ 要件定義
   ↓                          ↑
外部設計 ←→ システムテスト設計  システムテスト ←→ 外部設計  
   ↓                          ↑
内部設計 ←→ 統合テスト設計    統合テスト ←→ 内部設計
   ↓                          ↑
実装 ←→ 単体テスト設計        単体テスト ←→ 実装
```

#### 💡 V字モデルの重要な原則

##### 🔗 対応関係の明確化
```
要件定義 ↔ 受入テスト：
- ビジネス要件の充足性検証
- ユーザー受入基準の定義
- 業務フロー・運用手順の検証

外部設計 ↔ システムテスト：
- システム要件の実現性検証
- 機能・非機能要件の確認
- 外部インターフェースの検証

内部設計 ↔ 統合テスト：
- モジュール間連携の検証
- データフロー・制御フローの確認
- アーキテクチャ設計の妥当性検証

実装 ↔ 単体テスト：
- コード品質・仕様適合性の検証
- 詳細設計の実装妥当性確認
- 個別機能の正確性検証
```

##### ⚡ 早期テスト活動
```
並行作業の重要性：
- 開発フェーズと同時にテスト設計
- 早期の欠陥予防・品質作り込み
- テスト観点での設計レビュー参加
- テスト容易性の設計への反映
```

### 📝 基本演習3-1
オンライン予約システムのV字モデル適用を設計してください：

```
システム概要：
- ホテル予約管理システム
- Web・モバイル対応
- 決済・メール通知機能
- 管理者向け分析機能

開発フェーズ（予定）：
- 要件定義：2週間
- 外部設計：3週間  
- 内部設計：4週間
- 実装：8週間
```

**V字モデル適用設計**：
```
【要件定義 ↔ 受入テスト】
検証内容：
- 
- 
- 
テスト設計時期：
実行時期：

【外部設計 ↔ システムテスト】
検証内容：
- 
- 
- 
テスト設計時期：
実行時期：

【内部設計 ↔ 統合テスト】
検証内容：
- 
- 
- 
テスト設計時期：
実行時期：

【実装 ↔ 単体テスト】
検証内容：
- 
- 
- 
テスト設計時期：
実行時期：

【並行作業の利点】
期待される効果：
1. 
2. 
3. 
```

---

## 🎯 **成果物・責任分担**

### 📋 テストレベル別成果物

| テストレベル | 入力成果物 | テスト成果物 | 出力成果物 | 責任者 |
|--------------|------------|--------------|------------|---------|
| **単体テスト** | 詳細設計書<br>ソースコード | 単体テスト仕様書<br>テストコード | 単体テスト結果報告書<br>カバレッジレポート | 開発者 |
| **統合テスト** | アーキテクチャ設計書<br>IF仕様書 | 統合テスト仕様書<br>テストデータ | 統合テスト結果報告書<br>IF検証報告書 | テストチーム |
| **システムテスト** | 要件仕様書<br>外部設計書 | システムテスト仕様書<br>テストシナリオ | システムテスト結果報告書<br>性能測定報告書 | テストチーム |
| **受入テスト** | 要件定義書<br>運用手順書 | 受入テスト仕様書<br>ユーザーマニュアル | 受入テスト結果報告書<br>運用移行判定書 | ユーザー |

### 📝 基本演習4-1
プロジェクトの成果物・責任分担を明確化してください：

```
プロジェクト体制：
- プロジェクトマネージャー：1名
- 開発リーダー：1名  
- 開発者：4名
- テストリーダー：1名
- テスター：2名
- ユーザー代表：2名
```

**成果物責任分担表**：
```
【単体テストフェーズ】
責任者：
作成成果物：
- 
- 
レビュー参加者：
承認者：

【統合テストフェーズ】
責任者：
作成成果物：
- 
- 
レビュー参加者：
承認者：

【システムテストフェーズ】
責任者：
作成成果物：
- 
- 
レビュー参加者：
承認者：

【受入テストフェーズ】
責任者：
作成成果物：
- 
- 
レビュー参加者：
承認者：

【成果物管理】
保管場所：
バージョン管理：
アクセス権限：
```

---

## 📊 **学習確認・まとめ**

### 🧠 重要概念の整理
```
【テストレベルの特徴】
単体テスト：開発者実施、個別機能、ホワイトボックス中心
統合テスト：モジュール連携、段階的結合、インターフェース重視
システムテスト：全体機能、実環境、ブラックボックス中心
受入テスト：ユーザー実施、業務適合性、リリース判定

【テストプロセスの流れ】
計画 → 分析・設計 → 実装 → 実行 → 完了
（各フェーズは重複・並行実施可能）

【V字モデルの利点】
- 早期テスト活動による品質作り込み
- 開発・テストの対応関係明確化
- 段階的な品質確認・リスク軽減
```

### 📝 最終演習
```
あなたが参加する（予定の）プロジェクトで：

1. 最適なテストレベルの組み合わせは？
   理由：

2. 重点的に実施すべきテストプロセスは？  
   理由：

3. V字モデル適用での最大の利点は？
   理由：

4. 改善したい現在のテストプロセス課題は？
   改善案：
```

---

## 🔗 次のステップ

### ✅ 学習完了後は
1. **すぐに**：`03_習得レベル確認.md` で理解度をチェック
2. **余裕があれば**：`04_上級演習・実務レベル.md` で実践力を向上
3. **理解が不十分なら**：`05_追加演習・補強練習.md` で基礎を固める

### 📚 発展学習
- **02_test_techniques/**：具体的なテスト技法の習得
- **05_test_management/**：テストマネジメントの学習
- **実プロジェクト適用**：学習内容の実践的活用

---

**🎯 理論学習お疲れ様でした！実践的なテストプロセス設計に向けて次の段階に進みましょう。**