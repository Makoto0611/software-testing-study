# ğŸ¯ é™çš„è§£æ ç†è«–å­¦ç¿’ãƒ»åŸºæœ¬æ¼”ç¿’

## ğŸ“š é™çš„è§£æã®åŸºæœ¬æ¦‚å¿µ

### ğŸ” é™çš„è§£æã®åˆ†é¡ã¨æŠ€æ³•

#### ğŸ“‹ 1. æ§‹æ–‡è§£æ (Syntactic Analysis)
**ç›®çš„**: ã‚³ãƒ¼ãƒ‰ã®æ§‹æ–‡çš„æ­£ç¢ºæ€§ç¢ºèª
**æ¤œå‡ºé …ç›®**:
- æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ãƒ»ã‚¿ã‚¤ãƒ
- æœªä½¿ç”¨å¤‰æ•°ãƒ»ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
- åˆ°é”ä¸å¯èƒ½ã‚³ãƒ¼ãƒ‰

**åŸºæœ¬æ¼”ç¿’1**: ESLintã§JavaScriptã‚³ãƒ¼ãƒ‰è§£æ
```javascript
// å•é¡Œã®ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ä¾‹
function calculateTotal(items) {
    let total = 0;
    let unused_var = "test";  // æœªä½¿ç”¨å¤‰æ•°
    
    for (let i = 0; i < items.length; i++) {
        total += items[i].price
    }
    
    return total;
    // ã“ã®è¡Œä»¥é™ã¯åˆ°é”ä¸å¯èƒ½
    console.log("å®Œäº†");
}
```

**æ¼”ç¿’èª²é¡Œ**: ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰ã®å•é¡Œç‚¹ã‚’ç‰¹å®šã—ã€é™çš„è§£æãƒ„ãƒ¼ãƒ«ã§ã®æ¤œå‡ºæ–¹æ³•ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

#### ğŸ” 2. ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯è§£æ (Semantic Analysis)
**ç›®çš„**: ã‚³ãƒ¼ãƒ‰ã®æ„å‘³çš„æ­£ç¢ºæ€§ç¢ºèª
**æ¤œå‡ºé …ç›®**:
- å‹ã®ä¸æ•´åˆ
- æœªå®šç¾©å¤‰æ•°ã®å‚ç…§
- ã‚¹ã‚³ãƒ¼ãƒ—é•å

**åŸºæœ¬æ¼”ç¿’2**: å‹ãƒã‚§ãƒƒã‚¯å®Ÿè·µ
```python
# å‹ã«é–¢ã™ã‚‹å•é¡Œã®ã‚ã‚‹ã‚³ãƒ¼ãƒ‰
def process_data(data: list) -> int:
    total = 0
    for item in data:
        total += item  # item ã®å‹ãŒä¸æ˜
    
    return str(total)  # æˆ»ã‚Šå€¤ã®å‹ãŒä¸æ•´åˆ
```

#### ğŸ”’ 3. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ†æ
**ç›®çš„**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã®æ¤œå‡º
**OWASP Top 10å¯¾å¿œ**:
- SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³
- XSS (Cross-Site Scripting)
- èªè¨¼ãƒ»èªå¯ã®æ¬ é™¥

**åŸºæœ¬æ¼”ç¿’3**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§æ¤œå‡º
```java
// SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³è„†å¼±æ€§ã®ã‚ã‚‹ã‚³ãƒ¼ãƒ‰
public class UserDAO {
    public User findUser(String username) {
        String sql = "SELECT * FROM users WHERE username = '" + username + "'";
        // ç›´æ¥çš„ãªæ–‡å­—åˆ—çµåˆ - SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³è„†å¼±æ€§
        return database.query(sql);
    }
}
```

### ğŸ› ï¸ ä¸»è¦ãƒ„ãƒ¼ãƒ«ã®å®Ÿè·µ

## ğŸ“Š SonarQubeå®Ÿè·µ

### ğŸ¯ åŸºæœ¬è¨­å®šãƒ»æ“ä½œ
```bash
# SonarQubeã®åŸºæœ¬å®Ÿè¡Œ
sonar-scanner \
  -Dsonar.projectKey=my-project \
  -Dsonar.sources=src \
  -Dsonar.host.url=http://localhost:9000
```

### ğŸ“‹ å“è³ªã‚²ãƒ¼ãƒˆè¨­å®š
```yaml
# sonar-project.properties
sonar.projectKey=test-project
sonar.projectName=Test Project
sonar.sources=src
sonar.exclusions=**/*test*/**,**/node_modules/**

# å“è³ªåŸºæº–
sonar.qualitygate.wait=true
sonar.coverage.minimum=80
sonar.duplicated_lines_density.maximum=3
```

## ğŸ”§ è¨€èªåˆ¥ãƒ„ãƒ¼ãƒ«å®Ÿè·µ

### ğŸŸ¨ JavaScript/TypeScript
**ESLintè¨­å®šä¾‹**:
```json
{
  "extends": ["eslint:recommended", "@typescript-eslint/recommended"],
  "rules": {
    "no-unused-vars": "error",
    "complexity": ["error", 10],
    "max-lines-per-function": ["error", 50]
  }
}
```

**æ¼”ç¿’**: TypeScriptãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ESLintè¨­å®šãƒ»å®Ÿè¡Œ

### ğŸ Python
**Pylint + Blackè¨­å®šä¾‹**:
```ini
# .pylintrc
[MASTER]
load-plugins=pylint.extensions.docparams

[MESSAGES CONTROL]
disable=missing-docstring,line-too-long

[FORMAT]
max-line-length=88
```

### â˜• Java
**Checkstyle + SpotBugsè¨­å®šä¾‹**:
```xml
<!-- checkstyle.xml -->
<module name="Checker">
    <module name="LineLength">
        <property name="max" value="120"/>
    </module>
    <module name="TreeWalker">
        <module name="CyclomaticComplexity">
            <property name="max" value="10"/>
        </module>
    </module>
</module>
```

### ğŸ“Š ãƒ¡ãƒˆãƒªã‚¯ã‚¹è§£æå®Ÿè·µ

#### ğŸ¯ è¤‡é›‘åº¦æ¸¬å®šæ¼”ç¿’
```python
# è¤‡é›‘åº¦ã®é«˜ã„ã‚³ãƒ¼ãƒ‰ä¾‹ï¼ˆæ”¹å–„å‰ï¼‰
def process_order(order, customer_type, discount_code, season):
    if customer_type == "premium":
        if discount_code == "SUMMER20":
            if season == "summer":
                return order.total * 0.6
            else:
                return order.total * 0.8
        elif discount_code == "WINTER15":
            if season == "winter":
                return order.total * 0.7
            else:
                return order.total * 0.85
        else:
            return order.total * 0.9
    elif customer_type == "regular":
        if discount_code == "SUMMER20":
            return order.total * 0.8
        else:
            return order.total * 0.95
    else:
        return order.total

# è¤‡é›‘åº¦ã‚’ä¸‹ã’ãŸæ”¹å–„ç‰ˆ
def process_order_improved(order, customer_type, discount_code, season):
    discount_rules = {
        ("premium", "SUMMER20", "summer"): 0.6,
        ("premium", "SUMMER20", "other"): 0.8,
        ("premium", "WINTER15", "winter"): 0.7,
        ("premium", "WINTER15", "other"): 0.85,
        ("premium", "other", "any"): 0.9,
        ("regular", "SUMMER20", "any"): 0.8,
        ("regular", "other", "any"): 0.95
    }
    
    return order.total * get_discount_rate(discount_rules, customer_type, discount_code, season)
```

**æ¼”ç¿’èª²é¡Œ**: ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰ã®è¤‡é›‘åº¦ã‚’æ¸¬å®šã—ã€æ”¹å–„åŠ¹æœã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

### ğŸ”„ CI/CDçµ±åˆå®Ÿè·µ

#### ğŸ“‹ GitHub Actionsè¨­å®šä¾‹
```yaml
name: Code Quality Check

on: [push, pull_request]

jobs:
  quality:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v2
    
    - name: Setup Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '16'
    
    - name: Install dependencies
      run: npm install
    
    - name: Run ESLint
      run: npm run lint
    
    - name: Run SonarQube Scan
      uses: sonarqube-quality-gate-action@master
      env:
        SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
    
    - name: Quality Gate Check
      run: |
        if [[ "${{ env.QUALITY_GATE_STATUS }}" != "PASSED" ]]; then
          echo "Quality gate failed"
          exit 1
        fi
```

### ğŸ“Š å®Ÿè·µèª²é¡Œ

#### ğŸ¯ ç·åˆæ¼”ç¿’: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå“è³ªæ”¹å–„
**ã‚·ãƒŠãƒªã‚ª**: æ—¢å­˜ã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å“è³ªæ”¹å–„

**ä¸ãˆã‚‰ã‚ŒãŸæƒ…å ±**:
- è¨€èª: TypeScript (React)
- ç¾çŠ¶ã®èª²é¡Œ: ä¿å®ˆæ€§ãŒä½ã„ã€ãƒã‚°ãŒå¤šã„
- ç›®æ¨™: å“è³ªæŒ‡æ¨™ã‚’æ¥­ç•Œæ¨™æº–ãƒ¬ãƒ™ãƒ«ã«æ”¹å–„

**æ¼”ç¿’ã‚¹ãƒ†ãƒƒãƒ—**:
1. é™çš„è§£æãƒ„ãƒ¼ãƒ«ã®é¸å®šãƒ»è¨­å®š
2. ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³å“è³ªæ¸¬å®š
3. å“è³ªæ”¹å–„ç›®æ¨™ã®è¨­å®š
4. æ®µéšçš„ãªæ”¹å–„å®Ÿæ–½
5. åŠ¹æœæ¸¬å®šãƒ»å ±å‘Š

**æˆæœç‰©**:
- å“è³ªæ”¹å–„è¨ˆç”»æ›¸
- ãƒ„ãƒ¼ãƒ«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
- æ”¹å–„å‰å¾Œã®æ¯”è¼ƒãƒ¬ãƒãƒ¼ãƒˆ

---
**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**: ã€Œ03_ç¿’å¾—ãƒ¬ãƒ™ãƒ«ç¢ºèª.mdã€ã§ç†è§£åº¦ã¨ã‚¹ã‚­ãƒ«ã‚’è©•ä¾¡ã—ã€é©åˆ‡ãªå­¦ç¿’ãƒ«ãƒ¼ãƒˆã‚’æ±ºå®šã—ã¾ã—ã‚‡ã†ã€‚